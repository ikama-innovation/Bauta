<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:b="http://www.springframework.org/schema/batch"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd

http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-3.0.xsd">
    <!--<bean id="passThroughItemProcessor2" class="org.springframework.batch.item.support.PassThroughItemProcessor" ></bean>-->

    <bean id="php-base" class="se.ikama.bauta.batch.tasklet.php.PhpTasklet" abstract="true">
        <property name="scriptDir" value="${bauta.scriptDir}"/>
        <property name="timeout" value="7200000"/>
        <property name="environmentParams">
            <map>
                <!-- Here you can set general environment params that will be applied in all child beans -->
            </map>
        </property>
    </bean>
    <b:job id="Job.01.Php" parent="job_base">

        <b:step parent="step_base" id="hello" next="hello2">
            <b:tasklet>
                <bean parent="php-base">
                    <property name="scriptFiles">
                        <list>
                            <value>hello.php</value>
                        </list>
                    </property>
                    <property name="scriptParameters">
                        <list>
                            <value>world</value>
                        </list>
                    </property>
                    <property name="killProcessesOnStop" value="false" />
                </bean>
            </b:tasklet>
        </b:step>
        <b:step parent="step_base" id="hello2" >
            <b:tasklet>
                <bean parent="php-base">
                    <property name="scriptFiles">
                        <list>
                            <value>demo.php</value>
                        </list>
                    </property>
                    <property name="scriptParameters">
                        <list>
                            <value>again</value>
                        </list>
                    </property>
                    <property name="killProcessesOnStop" value="false" />
                </bean>
            </b:tasklet>
        </b:step>

    </b:job>
</beans>
